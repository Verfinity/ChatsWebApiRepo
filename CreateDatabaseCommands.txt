CREATE TABLE Users(Id INT NOT NULL PRIMARY KEY IDENTITY, FirstName NVARCHAR(30), LastName NVARCHAR(30), NickName NVARCHAR(30), Password NVARCHAR(50), RefreshToken NVARCHAR(50), IsDeleted BIT NOT NULL);

CREATE TABLE Chats(Id INT NOT NULL PRIMARY KEY IDENTITY, Name NVARCHAR(50) NOT NULL, CountOfMembers INT NOT NULL);

CREATE TABLE Posts(Id INT NOT NULL PRIMARY KEY IDENTITY, Content NVARCHAR(300) NOT NULL, ChatId INT NOT NULL, UserId INT NOT NULL, FOREIGN KEY (ChatId) REFERENCES Chats(Id) ON DELETE CASCADE, FOREIGN KEY (UserId) REFERENCES Users(Id) ON DELETE NO ACTION);

CREATE TABLE ChatsToUsers(ChatId INT NOT NULL, UserId INT NOT NULL, FOREIGN KEY (ChatId) REFERENCES Chats(Id) ON DELETE CASCADE, FOREIGN KEY (UserId) REFERENCES Users(Id) ON DELETE CASCADE);